(this["webpackJsonpmeme-generator"]=this["webpackJsonpmeme-generator"]||[]).push([[0],{16:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),o=a.n(n),c=a(33),r=a.n(c),i=a(19),l=a(35),h=(a(16),a(15));var m=function(e){return Object(s.jsxs)("header",{children:[Object(s.jsx)("img",{src:"./QuestionMark.png",alt:""}),Object(s.jsx)("p",{children:"Monster Mashup"}),e.isLoggedIn&&Object(s.jsxs)("ul",{className:"nav-list",children:[Object(s.jsx)(h.b,{to:"/monsters",children:Object(s.jsx)("li",{children:"View Monsters"})}),Object(s.jsx)(h.b,{to:"/monstermashup",children:Object(s.jsx)("li",{children:"Create New Monster"})}),Object(s.jsx)(h.b,{to:"/logout",children:Object(s.jsx)("li",{children:"Log Out"})})]})]})},j=a(14),u=a(9),d=a(10),p=a(5),b=a(12),g=a(11),O=a(4),x=a.n(O),f=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={topText:"",bottomText:"",randomHead:"heads/professor yeti.png",randomBody:"bodies/cats cradle.png",randomLeg:"legs/elephant.png",allHeadImgs:[],allBodiesImgs:[],allLegsImgs:[]},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.pullImg=e.pullImg.bind(Object(p.a)(e)),e.saveMeme=e.saveMeme.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("get_heads.json").then((function(e){return e.json()})).then((function(t){var a=t.data.heads;e.setState({allHeadImgs:a})})),fetch("get_bodies.json").then((function(e){return e.json()})).then((function(t){var a=t.data.bodies;e.setState({allBodiesImgs:a})})),fetch("get_legs.json").then((function(e){return e.json()})).then((function(t){var a=t.data.legs;e.setState({allLegsImgs:a})}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(j.a)({},a,s))}},{key:"pullImg",value:function(e){e.preventDefault();var t=Math.floor(Math.random()*this.state.allHeadImgs.length);this.setState({randomHead:this.state.allHeadImgs[t].url});var a=Math.floor(Math.random()*this.state.allBodiesImgs.length);this.setState({randomBody:this.state.allBodiesImgs[a].url});var s=Math.floor(Math.random()*this.state.allLegsImgs.length);this.setState({randomLeg:this.state.allLegsImgs[s].url})}},{key:"saveMeme",value:function(e){var t=this;e.preventDefault(),x.a.post("".concat("https://monstermashup.herokuapp.com","/api/monsters"),{top_text:this.state.topText,bottom_text:this.state.bottomText,head_url:this.state.randomHead,body_url:this.state.randomBody,leg_url:this.state.randomLeg},{headers:{"Content-Type":"application/json"}}).then((function(e){t.props.history.push("/monsters")})).catch((function(e){console.log(e),401===e.response.status&&(console.log(t.props.history),t.props.history.push("/"))}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("form",{className:"meme-form",onSubmit:this.pullImg,children:[Object(s.jsx)("input",{type:"text",name:"topText",placeholder:"First Name",value:this.state.topText,onChange:this.handleChange}),Object(s.jsx)("input",{type:"text",name:"bottomText",placeholder:"Last Name",value:this.state.bottomText,onChange:this.handleChange}),Object(s.jsx)("button",{children:"Gen"})]}),Object(s.jsxs)("div",{className:"meme",children:[Object(s.jsx)("img",{src:this.state.randomHead,alt:""}),Object(s.jsx)("img",{src:this.state.randomBody,alt:""}),Object(s.jsx)("img",{src:this.state.randomLeg,alt:""}),Object(s.jsx)("h2",{className:"top",children:this.state.topText}),Object(s.jsx)("h2",{className:"bottom",children:this.state.bottomText})]}),Object(s.jsx)("button",{onClick:this.saveMeme,className:"meme-save",children:"Make the Monster"})]})}}]),a}(o.a.Component),v=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={allMemes:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props);localStorage.getItem("jwt");x.a.get("".concat("https://monstermashup.herokuapp.com","/api/monsters")).then((function(t){e.setState({allMemes:t.data})})).catch((function(t){console.log(t.response),401===t.response.status&&(console.log(e.props.history),e.props.history.push("/"))}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:this.state.allMemes.map((function(e,t){return Object(s.jsx)("li",{className:"index",children:Object(s.jsxs)("div",{className:"meme",children:[Object(s.jsx)("br",{}),Object(s.jsx)("img",{src:e.head_url,alt:""}),Object(s.jsx)("img",{src:e.body_url,alt:""}),Object(s.jsx)("img",{src:e.leg_url,alt:""}),Object(s.jsx)("h2",{className:"memes-top",children:e.top_text}),Object(s.jsx)("h2",{className:"memes-bottom",children:e.bottom_text}),Object(s.jsx)("br",{}),Object(s.jsx)(h.b,{className:"meme-link",to:{pathname:"/editmonster/".concat(e.id)},children:"Edit Monster Name"}),Object(s.jsx)("br",{}),Object(s.jsx)("hr",{})]})},e.id)}))}),Object(s.jsx)("p",{children:this.state.allMemes.top_text})]})}}]),a}(o.a.Component),y=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={memeInfo:[],topText:"",bottomText:""},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.saveMeme=e.saveMeme.bind(Object(p.a)(e)),e.deleteMeme=e.deleteMeme.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.pathname.slice(13);x.a.get("".concat("https://monstermashup.herokuapp.com","/api/monsters/").concat(t)).then((function(t){e.setState({memeInfo:t.data})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(j.a)({},a,s))}},{key:"saveMeme",value:function(e){var t=this;e.preventDefault();var a=this.props.location.pathname.slice(13);x.a.patch("".concat("https://monstermashup.herokuapp.com","/api/monsters/").concat(a),{top_text:this.state.topText,bottom_text:this.state.bottomText,head_url:this.state.memeInfo.head_url,body_url:this.state.memeInfo.body_url,leg_url:this.state.memeInfo.leg_url},{headers:{"Content-Type":"application/json"}}).then((function(e){t.props.history.push("/monsters")})).catch((function(e){console.log(e)}))}},{key:"deleteMeme",value:function(e){var t=this;e.preventDefault();var a=this.props.location.pathname.slice(13);x.a.delete("".concat("https://monstermashup.herokuapp.com","/api/monsters/").concat(a)).then((function(e){t.props.history.push("/monsters")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("form",{className:"meme-form",onSubmit:this.saveMeme,children:[Object(s.jsx)("input",{type:"text",name:"topText",placeholder:this.state.memeInfo.top_text,value:this.state.topText,onChange:this.handleChange}),Object(s.jsx)("input",{type:"text",name:"bottomText",placeholder:this.state.memeInfo.bottom_text,value:this.state.bottomText,onChange:this.handleChange}),Object(s.jsx)("button",{children:"Update"})]}),Object(s.jsxs)("div",{className:"meme",children:[Object(s.jsx)("img",{src:this.state.memeInfo.head_url,alt:""}),Object(s.jsx)("img",{src:this.state.memeInfo.body_url,alt:""}),Object(s.jsx)("img",{src:this.state.memeInfo.leg_url,alt:""}),Object(s.jsx)("h2",{className:"top",children:this.state.topText?this.state.topText:this.state.memeInfo.top_text}),Object(s.jsx)("h2",{className:"bottom",children:this.state.bottomText?this.state.bottomText:this.state.memeInfo.bottom_text})]}),Object(s.jsx)("button",{className:"meme-save",onClick:this.deleteMeme,children:"Delete Monster"})]})}}]),a}(o.a.Component),C=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={email:"",password:""},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.loginSubmit=e.loginSubmit.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(j.a)({},a,s))}},{key:"loginSubmit",value:function(e){var t=this;e.preventDefault(),x.a.post("".concat("https://monstermashup.herokuapp.com","/api/sessions"),{email:this.state.email,password:this.state.password},{headers:{"Content-Type":"application/json"}}).then((function(e){x.a.defaults.headers.common.Authorization="Bearer "+e.data.jwt,localStorage.setItem("jwt",e.data.jwt),t.props.setIsLoggedIn(!0),t.props.history.push("/monsters")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"login",children:[Object(s.jsxs)("form",{className:"login-form",onSubmit:this.loginSubmit,children:[Object(s.jsx)("h1",{children:"Login"}),Object(s.jsx)("ul",{}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email:"}),Object(s.jsx)("input",{type:"email",name:"email",placeholder:"Your Email",value:this.state.email,onChange:this.handleChange})]}),Object(s.jsxs)("div",{class:"form-group",children:[Object(s.jsx)("label",{children:"Password:"}),Object(s.jsx)("input",{type:"password",name:"password",placeholder:"Your password",value:this.state.password,onChange:this.handleChange})]}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"submit",className:"btn-primary",value:"Submit"})]}),Object(s.jsx)("br",{}),Object(s.jsx)(h.b,{className:"meme-link",to:"/createaccount",children:"Create Account"})]})})}}]),a}(o.a.Component),I=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){localStorage.clear(),x.a.defaults.headers.common.Authorization=null,this.props.setIsLoggedIn(!1),this.props.history.push("/")}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"Logging Out"})})}}]),a}(o.a.Component),k=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={email:"",name:"",password:"",passwordConfirmation:""},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.createUser=e.createUser.bind(Object(p.a)(e)),e}return Object(d.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(j.a)({},a,s))}},{key:"createUser",value:function(e){var t=this;e.preventDefault(),x.a.post("".concat("https://monstermashup.herokuapp.com","/api/users"),{email:this.state.email,name:this.state.name,password:this.state.password,password_confirmation:this.state.passwordConfirmation},{headers:{"Content-Type":"application/json"}}).then((function(e){t.props.history.push("/")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"login",children:Object(s.jsxs)("form",{className:"login-form",onSubmit:this.createUser,children:[Object(s.jsx)("h1",{children:"Create Account"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Email:"}),Object(s.jsx)("input",{type:"email",name:"email",placeholder:"Your Email",value:this.state.email,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Name:"}),Object(s.jsx)("input",{type:"name",name:"name",placeholder:"Your Name",value:this.state.name,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password:"}),Object(s.jsx)("input",{type:"password",name:"password",placeholder:"Your password",value:this.state.password,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Confirm Password:"}),Object(s.jsx)("input",{type:"password",name:"passwordConfirmation",placeholder:"Re-enter password",value:this.state.passwordConfirmation,onChange:this.handleChange})]}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"submit",className:"btn-primary",value:"Submit"})]})})})}}]),a}(o.a.Component),M=a(2);var N=function(){var e=o.a.useState(!1),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(s.jsx)(h.a,{children:Object(s.jsxs)("div",{children:[Object(s.jsx)(m,{isLoggedIn:a}),Object(s.jsxs)(M.c,{children:[Object(s.jsx)(M.a,{path:"/monstermashup",component:f}),Object(s.jsx)(M.a,{path:"/monsters",render:function(e){return Object(s.jsx)(v,Object(i.a)({setIsLoggedIn:n},e))}}),Object(s.jsx)(M.a,{path:"/editmonster",component:y}),Object(s.jsx)(M.a,{path:"/createaccount",component:k}),Object(s.jsx)(M.a,{path:"/logout",render:function(e){return Object(s.jsx)(I,Object(i.a)({setIsLoggedIn:n},e))}}),Object(s.jsx)(M.a,{path:"/",render:function(e){return Object(s.jsx)(C,Object(i.a)({setIsLoggedIn:n},e))}})]})]})})},w=localStorage.getItem("jwt");w&&(x.a.defaults.headers.common.Authorization="Bearer "+w),r.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.27356fdf.chunk.js.map